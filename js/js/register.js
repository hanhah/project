"use strict";function Register(){this.oPhone=document.querySelector("#show .showForm .phoneInput"),this.oIcon=document.querySelector("#show .showForm .phone i"),this.oPhoneSpan=document.querySelector("#show .showForm .phone span"),this.phoneReg=/^(13|15|17|18)\d{9}$/,this.oCode=document.querySelector("#show .showForm .codeInput"),this.oCodeBtn=document.querySelector("#show .showForm .code .codeBtn"),this.oCodeNum=document.querySelector("#show .showForm .code b"),this.oCodeSpan=document.querySelector("#show .showForm .code span"),this.oPwd=document.querySelector("#show .showForm .pwdInput"),this.oPwdSpan=document.querySelector("#show .showForm .pwd span"),this.pwdReg=/^\w{6,20}$/,this.oBtn=document.querySelector("#show button"),this.prove1=null,this.prove2=null,this.prove3=null,this.init()}Register.prototype={init:function(){this.eventBind()},phoneOnblur:function(){this.phoneReg.test(this.oPhone.value)?(this.oIcon.style.display="block",console.log(111),this.prove1=!0):this.oPhoneSpan.innerHTML="格式不正确，请您输入正确的手机号"},phoneOnfocus:function(){this.oIcon.style.display="none",this.oPhoneSpan.innerHTML=" "},randomNum:function(o,e){return parseInt(Math.random()*(e-o+1)+o)},codeOnblur:function(){this.oCode.value==this.oCodeNum.innerHTML&&this.oCode.value?(this.oCodeNum.innerHTML="√",this.oCodeNum.style.cssText="background:green;",console.log(222),this.prove2=!0):(this.oCodeSpan.innerHTML="验证错误，请您重新获取验证码",this.oCodeNum.innerHTML="x",this.oCodeNum.style.cssText="background:red;")},pwdOnblur:function(){this.pwdReg.test(this.oPwd.value)?(this.oPwdSpan.innerHTML="",console.log(333),this.prove3=!0):this.oPwdSpan.style.cssText="color:red;"},getDate:function(){var o=document.querySelector("#show .phone .phoneInput"),e=document.querySelector("#show .pwd .pwdInput");axios({method:"get",url:"http://localhost/han/suning/php/register.php",data:{uname:o.value,upwd:e.value}}).then(function(o){"0"==o.state?alert(o.info):(alert(o.info),location.href="http://localhost/han/suning/html/login.html")}).catch(function(o){console.log(o)})},eventBind:function(){var o=this;this.oPhone.onblur=function(){o.phoneOnblur()},this.oPhone.onfocus=function(){o.phoneOnfocus()},this.oCodeBtn.onclick=function(){o.oCodeNum.innerHTML=o.randomNum(1e3,9999),o.oCodeNum.style.cssText="background:orange;",o.oCodeSpan.innerHTML=" ",o.oCode.value=""},this.oCode.onblur=function(){o.codeOnblur()},this.oCode.onfocus=function(){o.oCodeSpan.innerHTML=" "},this.oPwd.onfocus=function(){o.oPwdSpan.innerHTML="6-20个字符，由字母、数字和符号组合",o.oPwdSpan.style.cssText="color:#ccc;"},this.oPwd.onblur=function(){o.pwdOnblur()},this.oBtn.onclick=function(){1==o.prove1&&1==o.prove2&&1==o.prove3&&o.getDate()}}},new Register;